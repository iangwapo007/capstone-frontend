<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <title>BloodNet</title>
    <meta
      name="viewport"
      content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />

    <script
      type="module"
      src="https://unpkg.com/@ionic/pwa-elements@latest/dist/ionicpwaelements/ionicpwaelements.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/@ionic/pwa-elements@latest/dist/ionicpwaelements/ionicpwaelements.js"
    ></script>

    <link rel="icon" type="image/x-icon" href="./assets/icon/favicon.ico" />
    <link rel="manifest" href="./manifest.json" />
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="./css/custom.css" />

    <script type="module" src="./js/system/profile.js"></script>

    <meta name="theme-color" content="#31d53d" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@100..900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=League Spartan"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  </head>
  <body class="backgroundimage1">
    <!-- Start of Navbar -->
    <nav
      class="navbar bg-body-tertiary fixed-bottom custom-shadow league-spartan-regular"
    >
      <div class="container-fluid">
        <div class="d-flex justify-content-center w-100">
          <div class="d-flex w-100" style="max-width: 600px">
            <!-- Map Option  -->
            <div class="text-center flex-grow-1 opacity-50">
              <a href="map.html" class="nav-link">
                <button type="button" class="btn btn-nav">
                  <img
                    src="./assets/icon/pin.png"
                    alt="Map"
                    width="24px"
                  /></button
                ><br />
                <span class="nav-text"> Map </span>
              </a>
            </div>

            <!-- Find Option  -->
            <div class="text-center flex-grow-1 opacity-50">
              <a href="find.html" class="nav-link">
                <button type="button" class="btn btn-nav">
                  <img
                    src="./assets/icon/search.png"
                    alt="Find"
                    width="24px"
                  /></button
                ><br />
                <span class="nav-text"> Find </span>
              </a>
            </div>

            <!-- Nearby Option  -->
            <!-- <div class="text-center flex-grow-1 opacity-50">
              <a href="nearby.html" class="nav-link">
                <button type="button" class="btn btn-nav">
                  <img
                    src="./assets/icon/hospital.png"
                    alt="Nearby"
                    width="24px"
                  /></button
                ><br />
                <span class="nav-text active-text"> Nearby </span>
              </a>
            </div> -->

            <!-- Donor Option -->
            <div class="text-center flex-grow-1 position-relative">
              <a href="donor.html" class="nav-link">
                <div class="focus">
                  <span class="invisible">123456789asa</span>
                </div>
                <button type="button" class="btn btn-nav">
                  <img
                    src="./assets/icon/donor(1).png"
                    alt="Nearby"
                    width="24px"
                  /></button
                ><br />
                <span style="color: #b43929; font-weight: bold"> Donor </span>
              </a>
            </div>

            <!-- Events Option  -->
            <div class="text-center flex-grow-1 opacity-50">
              <a href="events.html" class="nav-link">
                <button type="button" class="btn btn-nav">
                  <img
                    src="./assets/icon/notification.png"
                    alt="Events"
                    width="24px"
                  /></button
                ><br />
                <span class="nav-text"> Events </span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </nav>
    <!-- End of Navbar -->
    <!-- HEADER -->
    <div style="margin-bottom: 150px">
      <div
        class="d-flex flex-column align-items-start bg-white rounded-3"
        style="
          padding-bottom: 12px;
          box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
        "
      >
        <!-- Cover Photo -->
        <div class="cover-photo">
          <!-- Profile Icon -->
          <img
            class="profile-icon"
            src="./assets/icon/profile1.png"
            alt="Profile Icon"
          />
        </div>

        <!-- Profile Details -->
        <div class="ms-4 mt-5">
          <small>
            <div class="d-flex align-items-center">
              <div
                class="me-3"
                style="display: flex; align-items: center"
                data-bs-toggle="modal"
                data-bs-target="#staticBackdrop"
              >
                <h5 id="fullname" class="mb-0 fw-bolder fs-4"></h5>
                <span
                  id="status"
                  class="badge ms-2"
                  style="font-size: 14px; background-color: #b43929"
                  data-bs-toggle="modal"
                  data-bs-target="#statusModal"
                ></span>
              </div>
              <div>
                <img
                  id="popover1"
                  src="./assets/icon/questionMark.png"
                  style="width: 20px"
                  alt="Popover Trigger"
                  data-bs-toggle="popover"
                  data-bs-title="Status"
                  data-bs-content="
  <strong>Active:</strong> When you are set to  <strong>'Active'</strong> status. This means the blood center can reach out to you when they are short on blood stock or specifically need your blood type. Your willingness to donate can help save lives in times of urgent need.<br><br>
  <strong>Inactive:</strong> When you set to <strong>'Inactive'</strong> status. This means the blood center will not contact you unless you voluntarily update your status or meet the necessary eligibility criteria to donate. While inactive, you are not immediately available for urgent donation requests.<br><br>
  <strong>How to Update Status:</strong> You can update your status to 'Active' or 'Inactive' at any time based on your availability and willingness to donate blood."
                />
              </div>
            </div>

            <div class="mt-0 fw-bold" style="font-size: 18px; color: #b43929">
              <ul class="list-unstyled">
                <li class="placeholder-glow" id="email">
                  <span
                    class="placeholder rounded-2 col-12 mb-1"
                    style="padding-top: 10px; padding-bottom: 10px"
                  ></span>
                  <span class="placeholder rounded-2 col-6"></span>
                </li>
              </ul>
            </div>

            <div class="d-flex gap-2">
              <button
                class="btn rounded-3 d-flex align-items-center"
                style="
                  background-color: #b43929;
                  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
                "
              >
                <img
                  class="pe-1"
                  src="./assets/icon/blood_type_white.png"
                  style="width: 20px"
                  alt="Edit Icon"
                />
                <span
                  id="blood_type"
                  class="text-white"
                  style="font-size: 13px; margin-top: 3px"
                  >Type AB+</span
                >
              </button>
              <a class="text-decoration-none" href="update.html"
                ><button
                  class="btn rounded-3 fw-bold d-flex align-items-center"
                  style="background-color: #e4e7ed"
                >
                  <img
                    class="pe-2 pb-1"
                    src="./assets/icon/edit1.png"
                    style="width: 20px"
                    alt="Edit Icon"
                  />
                  <span style="font-size: 14px; margin-top: 2px"
                    >Edit Profile</span
                  >
                </button></a
              >

              <div class="dropdown">
                <button
                  class="btn"
                  style="background-color: #e4e7ed"
                  type="button"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  <img
                    src="./assets/icon/option.png"
                    style="width: 20px"
                    alt=""
                  />
                </button>
                <ul class="dropdown-menu">
                  <li>
                    <a class="dropdown-item" href="#" id="btn_logout"
                      ><img
                        src="./assets/icon/logout.png"
                        style="width: 15px; padding-bottom: 2.5px"
                        alt=""
                        srcset=""
                      /><span class="ms-2 fw-normal">Logout</span></a
                    >
                  </li>
                </ul>
              </div>
            </div>
          </small>
        </div>
      </div>

      <div class="container mt-3 bg-white rounded-3">
        <!-- Scrollable Navigation Pills -->
        <div class="nav-pills-container">
          <ul class="nav nav-pills flex-nowrap">
            <li class="nav-item">
              <a
                class="nav-link active"
                aria-current="page"
                href="#1"
                data-bs-toggle="pill"
                >Personal Info</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#2" data-bs-toggle="pill"
                >Health Info</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#3" data-bs-toggle="pill"
                >Emergency Contact</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#4" data-bs-toggle="pill">History</a>
            </li>
          </ul>
        </div>

        <!-- Tab Content -->
        <div class="tab-content mt-3">
          <!-- PERSONAL INFO -->
          <div class="tab-pane fade show active" id="1">
            <div
              class="py-3 px-3 rounded-3 bg-white"
              style="box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px"
            >
              <div class="d-flex align-items-start align-items-center">
                <span class="mt-1 ps-2 fw-bold fs-5">Personal Details </span>
              </div>
              <div class="placeholder-glow">
                <small>
                  <div class="my-2">
                    <img src="./assets/icon/id-card.png" width="15px" alt="" />
                    <span id="fullname1" class="ms-2">
                      <span class="placeholder col-6 rounded-1"></span>
                    </span>
                  </div>
                  <div class="my-2">
                    <img src="./assets/icon/email.png" width="15px" alt="" />
                    <span id="email1" class="ms-2"
                      ><span class="placeholder col-4 rounded-1"></span
                    ></span>
                  </div>

                  <div class="my-2">
                    <img
                      class="mb-1"
                      src="./assets/icon/address.png"
                      width="12px"
                      alt=""
                    />
                    <span id="address" class="ms-2"
                      ><span class="placeholder col-5 rounded-1"></span
                    ></span>
                  </div>

                  <div class="my-2">
                    <img
                      class="mb-1"
                      src="./assets/icon/phone_num.png"
                      width="12px"
                      alt=""
                    />
                    <span id="phonenumber" class="ms-2"
                      ><span class="placeholder col-6 rounded-1"></span
                    ></span>
                  </div>
                  <div class="my-2">
                    <img
                      class="mb-1"
                      src="./assets/icon/calendar.png"
                      width="12px"
                      alt=""
                    />
                    <span id="birthday" class="ms-2"
                      ><span class="placeholder col-4 rounded-1"></span
                    ></span>
                  </div>
                  <div class="my-2">
                    <img
                      class="mb-1"
                      src="./assets/icon/age-group.png"
                      width="12px"
                      alt=""
                    />
                    <span id="age" class="ms-2"
                      ><span class="placeholder col-2 rounded-1"></span
                    ></span>
                  </div>
                  <div class="my-2">
                    <img
                      class="mb-1"
                      src="./assets/icon/gender.png"
                      width="12px"
                      alt=""
                    />
                    <span id="gender" class="ms-2"
                      ><span class="placeholder col-3 rounded-1"></span
                    ></span>
                  </div>
                </small>
              </div>
            </div>
          </div>
          <!-- HEALTH INFO -->
          <div class="tab-pane fade" id="2">
            <div
              class="mt-3 py-3 px-3 rounded-3 bg-white"
              style="box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px"
            >
              <div class="d-flex align-items-start align-items-center">
                <span class="mt-1 ps-2 fw-bold fs-5">Health Information</span>
              </div>
              <div class="">
                <small>
                  <div class="my-2">
                    <img
                      class="mb-1"
                      src="./assets/icon/history.png"
                      width="15px"
                      alt=""
                    />
                    <span class="ms-2 fw-bold">Medical History</span>
                    <p id="medical_history" class="ms-4 mt-2"></p>
                  </div>

                  <div class="my-2">
                    <img
                      class="mb-1"
                      src="./assets/icon/medication.png"
                      width="12px"
                      alt=""
                    />
                    <span class="ms-2 fw-bold">Current Medications</span>
                    <p id="current_medications" class="ms-4 mt-2"></p>
                  </div>
                  <div class="my-2">
                    <img
                      class="mb-1"
                      src="./assets/icon/allergy.png"
                      width="12px"
                      alt=""
                    />
                    <span class="ms-2 fw-bold">Allergies</span>
                    <p id="allergies" class="ms-4 mt-2"></p>
                  </div>
                </small>
              </div>
            </div>
          </div>
          <!-- EMERGENCY CONTACT -->
          <div class="tab-pane fade" id="3">
            <div
              class="mt-3 py-3 px-3 rounded-3 bg-white"
              style="
                box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
                margin-bottom: 40px;
              "
            >
              <div class="d-flex align-items-start align-items-center">
                <span class="mt-1 ps-2 fw-bold fs-5">Emergency Contact</span>
              </div>
              <div class="">
                <small>
                  <div class="my-2">
                    <img src="./assets/icon/profile.png" width="15px" alt="" />
                    <span id="emergency_name" class="ms-2"></span>
                  </div>

                  <div class="my-2">
                    <img
                      class="mb-1"
                      src="./assets/icon/relation.png"
                      width="12px"
                      alt=""
                    />
                    <span id="emergency_relationship" class="ms-2"></span>
                  </div>

                  <div class="my-2">
                    <img
                      class="mb-1"
                      src="./assets/icon/phone_num.png"
                      width="12px"
                      alt=""
                    />
                    <span id="emergency_phonenumber" class="ms-2"></span>
                  </div>
                </small>
              </div>
            </div>
          </div>
          <!-- HISTORY -->
          <div class="tab-pane fade" id="4">
            <div
              class="mt-3 py-3 px-3 rounded-3 bg-white"
              style="
                box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
                margin-bottom: 40px;
              "
            >
              <div class="d-flex flex-column align-items-start">
                <span class="mt-2 ps-2 fw-bold fs-5">Donation History</span>
              </div>
              <div class="mt-2 mt-3 d-flex align-items-start">
                <img
                  src="./assets/icon/history.png"
                  width="15px"
                  alt=""
                  class="me-2 img-fluid"
                  style="margin-top: 2px"
                />
                <span id="previous_donation" class="ms-1 text-wrap"></span>
              </div>
              <hr />
              <div class="mt-3">
                <div
                  class="d-flex justify-content-between align-items-center mx-2"
                >
                  <span>Eligibility Status:</span>

                  <img
                    id="popover2"
                    src="./assets/icon/questionMark.png"
                    style="width: 20px"
                    alt="Popover Trigger"
                    data-bs-toggle="popover"
                    data-bs-title="Eligibility Status"
                    data-bs-content="
                      <strong>Eligible:</strong> You are eligible to donate blood. This means you have waited the required amount of time since your last donation and can safely give blood again.<br><br>
                      <strong>Not Eligible:</strong> You are currently not eligible to donate blood. This may be due to the need to wait for the mandatory three-month period after your last donation.<br><br>
                      <strong>Waiting Period:</strong> The three-month (90 days) waiting period between donations allows your body to replenish blood cells and ensure a safe and healthy donation process.<br><br>
                      <strong>Next Eligibility Date:</strong> You will be eligible to donate again once the three-month waiting period has passed from your last donation."
                  />
                </div>

                <span
                  id="eligibility_status"
                  class="badge mt-2 ms-3"
                  style="background-color: #b43929; font-size: 17px"
                >
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div
      class="modal fade"
      id="statusModal"
      data-bs-keyboard="false"
      tabindex="-1"
      aria-labelledby="staticBackdropLabel"
      aria-hidden="true"
    >
      <div
        class="modal-dialog d-flex align-items-center justify-content-center modal-dialog-centered"
      >
        <form id="form_stat">
          <div class="modal-content">
            <div class="modal-header" style="background-color: #b43929">
              <h4 class="modal-title text-white" id="staticBackdropLabel">
                Update Donor Status
              </h4>
            </div>
            <div class="modal-body">
              <div class="form-floating">
                <span style="color: #b43929">Status</span>
                <select id="status" class="form-control" name="status">
                  <option value="Active">Active</option>
                  <option value="Inactive">Inactive</option>
                </select>
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn fw-semibold"
                style="background-color: #e4e7ed"
                data-bs-dismiss="modal"
              >
                Close
              </button>
              <button
                id="statusSubmit"
                type="submit"
                class="btn text-white d-flex align-items-center justify-content-center"
                style="background-color: #b43929"
              >
                Save Changes
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Initialize popover with HTML content
        var popoverTriggerList = Array.from(
          document.querySelectorAll('[data-bs-toggle="popover"]')
        );
        var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
          return new bootstrap.Popover(popoverTriggerEl, {
            html: true, // Allow HTML content inside the popover
          });
        });
      });
    </script>
  </body>
</html>
